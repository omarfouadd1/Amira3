<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>رسالة</title>

<style>
body{
  margin:0;
  font-family:"Segoe UI",Tahoma,Arial,sans-serif;
  background:linear-gradient(135deg,#0f172a,#1e293b,#312e81);
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  color:#f8fafc;
  padding:16px;
}

.card{
  width:100%;
  max-width:420px;
  background:rgba(255,255,255,0.06);
  backdrop-filter:blur(14px);
  border-radius:24px;
  padding:28px 22px;
  text-align:center;
  box-shadow:0 25px 60px rgba(0,0,0,0.45);
  animation:fadeIn .4s ease;
}

.hidden{display:none}

p{
  font-size:15px;
  line-height:2;
  white-space:pre-line;
}

button{
  margin-top:18px;
  padding:12px 26px;
  border:none;
  border-radius:999px;
  background:#f8fafc;
  color:#0f172a;
  font-size:14px;
  cursor:pointer;
}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:none}
}

/* خاتم SVG */
.ring{
  margin:18px auto;
  width:80px;
  height:80px;
}

.summary{
  text-align:right;
  font-size:13px;
  line-height:1.8;
  color:#e5e7eb;
  margin-top:18px;
  border-top:1px dashed rgba(255,255,255,.25);
  padding-top:12px;
}
</style>
</head>

<body>

<div class="card">
  <div id="content"></div>
  <button id="btn" onclick="next()">كملي</button>
</div>

<script>
const steps = [
{
  text:`خلينا نبدأ بهدوء
انتي بترتاحي اكتر لايه`,
  options:["الكلام الهادي","المساحة","الوضوح","الوقت"]
},
{
  text:`لما تحسي ان في حد
قريب بس مش واضح قوي`,
  options:["استنى الايام توضح","افكر مع نفسي الاول","اقرب بحذر","اخد مسافة"]
},
{
  text:`امتى بتحبي تختفي شوية`,
  options:["لما احس بضغط","لما اتلخبط","لما محتاجة افكر","لما ابقى مش جاهزة"]
},
{
  text:`اكتر حاجة ممكن تقلقك
وانتي داخلة حاجة جديدة`,
  options:["اتعلق واندم","اتفهم غلط","اخسر نفسي","الوقت يطلع مش مناسب"]
},
{
  text:`علشان تحسي بالامان
تحتاجي ايه من اللي قدامك`,
  options:["صبر","وضوح","ثبات","كلام قليل بس صادق"]
},
{
  text:`لو في حد
قرر يكون واضح معاكي
ويمشي على مهلك`,
  options:["ممكن ادي فرصة","محتاجة وقت اكتر","نخلي الامور زي ما هي","مش جاهزة دلوقتي"]
}
];

let i=0;
const answers=[];

const content=document.getElementById("content");
const btn=document.getElementById("btn");

function render(){
  const step=steps[i];
  let html=`<p>${step.text}</p>`;
  step.options.forEach(opt=>{
    html+=`<button onclick="choose('${opt}')">${opt}</button>`;
  });
  content.innerHTML=html;
  btn.classList.add("hidden");
}

function choose(ans){
  answers.push({q:steps[i].text,a:ans});
  i++;
  if(i<steps.length){
    render();
  }else{
    end(ans);
  }
}

function end(last){
  let html="";
  if(last==="ممكن ادي فرصة"){
    html=`
    <p>الاختيارات اللي بتيجي على مهل
غالبا بتوصل صح</p>

    <div class="ring">
      <svg viewBox="0 0 100 100" fill="none" stroke="#e5e7eb" stroke-width="3">
        <circle cx="50" cy="55" r="25"/>
        <path d="M40 30 L50 20 L60 30"/>
      </svg>
    </div>

    <p>ده اختيار شجاع
ومحترم</p>
    `;
  }else if(last==="محتاجة وقت اكتر"){
    html=`<p>الوقت مش عدو
والحاجات اللي بتاخد وقت
بتستاهل</p>`;
  }else if(last==="نخلي الامور زي ما هي"){
    html=`<p>الراحة اختيار
واحترامها اهم من اي حاجة</p>`;
  }else{
    html=`<p>الوضوح حتى في الرفض
حاجة تستحق التقدير</p>`;
  }

  html+=`<p id="title">رسالة</p>`;
  content.innerHTML=html;
  btn.classList.add("hidden");

  // زر ملخص مخفي بالضغط المطول
  let pressTimer;
  document.getElementById("title").addEventListener("mousedown",()=>{
    pressTimer=setTimeout(showSummary,1500);
  });
  document.getElementById("title").addEventListener("mouseup",()=>{
    clearTimeout(pressTimer);
  });
}

function showSummary(){
  let s="<div class='summary'><strong>ملخص الرحلة</strong><br>";
  answers.forEach((x,idx)=>{
    s+=`س${idx+1}: ${x.a}<br>`;
  });
  s+="</div>";
  content.innerHTML+=s;
}

render();
</script>

</body>
</html>
